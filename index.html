<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Início | H&I</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="cabecalho">
        <div class="grupo">
            <div class="navbar">
                <div class="logo">
                    <a href="index.html" aria-label="Logo"><img src="assets/images/logo.png" width="125px"
                            alt="logo"></a>
                </div>
                <nav>
                    <ul id="MenuItems">
                        <li><a href="index.html">Início</a></li>
                        <li><a href="pages/produtos.html">Produtos</a></li>
                        <!--<li><a href="sobre.html">Sobre</a></li>
                        <li><a href="contato.html">Contato</a></li> -->
                        <li><a href="pages/conta.html">Conta</a></li>
                        <!--<li>
                            <a href="pages/carrinho.html"><img src="assets/images/carrinho.png" width="30px" height="30px"
                                                               alt="carrinho"></a>
                            <img src="assets/images/menu.png" class="menu-icon" onclick="menutoggle()" alt="menu">
                        </li>-->
                    </ul>
                </nav>
            </div>
            <div class="linha">
                <div class="coluna-2">
                    <h1>H&I <br> O melhor lugar para encontrar seus produtos</h1>
                    <p>Aqui você consegue anunciar seus produtos e encontrar diversas categorias de itens para comprar
                        em segurança</p>
                    <a href="pages/produtos.html" class="btn">Explorar &#8594;</a>
                </div>
                <div class="coluna-2">
                    <img src="assets/images/index.png" alt="">
                </div>
            </div>
        </div>
    </div>

    <!-- Aqui sera usado para colocar os anuncios dos produtos -->

    <section id="products" class="small-grupo">
        <h2>Nossos produtos</h2>

        <template id="template">
            <div class="item coluna-2">
                <img class="item-image" src="./assets/images/{{prod-image}}"></img>
                <span class="item-name">{{prod-name}}</span>
                <span class="item-price">{{prod-price}}</span>
            </div>
        </template>

    </section>

    <!------- Depoimentos  ------>
    <div class="depoimento">
        <div class="small-grupo">
            <div class="linha">
                <div class="coluna-3">
                    <i class="fa fa-quote-left"></i>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sapiente aut, voluptatem et eum
                        cupiditate libero, laboriosam architecto labore beatae consequatur rerum corporis.</p>
                    <div class="avaliacao">
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star-half-o"></i>
                        <i class="fa fa-star-o"></i>
                    </div>
                    <img src="assets/images/messi.png" alt="user-1">
                    <h3>Lionel Messi</h3>
                </div>
                <div class="coluna-3">
                    <i class="fa fa-quote-left"></i>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sapiente aut, voluptatem et eum
                        cupiditate libero, laboriosam architecto labore beatae consequatur rerum corporis.</p>
                    <div class="avaliacao">
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star-half-o"></i>
                        <i class="fa fa-star-o"></i>
                    </div>
                    <img src="assets/images/cr7.png" alt="user-2">
                    <h3>Cristiano Ronaldo</h3>
                </div>
                <div class="coluna-3">
                    <i class="fa fa-quote-left"></i>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sapiente aut, voluptatem et eum
                        cupiditate libero, laboriosam architecto labore beatae consequatur rerum corporis.</p>
                    <div class="avaliacao">
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star-half-o"></i>
                        <i class="fa fa-star-o"></i>
                    </div>
                    <img src="assets/images/neymar.png" alt="user-3">
                    <h3>Neymar Jr</h3>
                </div>
            </div>
        </div>
    </div>

    <!----- Marcas 
    <div class="marcas">
        <div class="small-grupo">
            <div class="linha">
                <div class="coluna-5">
                    <img src="images/logo-coca-cola.png" alt="logo-coca-cola">
                </div>
                <div class="coluna-5">
                    <img src="images/logo-oppo.png" alt="logo-oppo">
                </div>
                <div class="coluna-5">
                    <img src="images/logo-paypal.png" alt="logo-paypal">
                </div>
                <div class="coluna-5">
                    <img src="images/logo-philips.png" alt="logo-philips">
                </div>
            </div>
        </div>
    </div> -->

    <!---- Footer ------>
    <div class="rodape">
        <div class="grupo">
            <div class="linha">
                <div class="rodape-coluna-1">
                    <h3>Baixe nosso App</h3>
                    <p>Disponível tanto para Android quanto para iOS</p>
                    <div class="app-logo">
                        <img src="assets/images/play-store.png" alt="play-store">
                        <img src="assets/images/app-store.png" alt="app-store">
                    </div>
                </div>
                <div class="rodape-coluna-2">
                    <img src="assets/images/logo-white.png" alt="logo-white">
                    <p>Nosso propósito é oferecer a melhor experência possível a um preço justo para nossos fiés
                        clientes </p>
                </div>
                <div class="rodape-coluna-3">
                    <h3>Links úteis</h3>
                    <ul>
                        <li>Cupons</li>
                        <li>Nosso blog</li>
                        <li>Política de devolução</li>
                        <li>Seja um afiliado</li>
                    </ul>
                </div>
            </div>
            <hr>
            <p class="copyright">&copy; Copyright 2023 - H&I Inc.</p>
        </div>
    </div>
    <!----------- script para ativar menu em mobile (em formato burguer) ------->
    <script>
        var MenuItems = document.getElementById("MenuItems")
        MenuItems.style.maxHeight = "0px";
        function menutoggle() {
            if (MenuItems.style.maxHeight == "0px") {
                MenuItems.style.maxHeight = "200px";
            }
            else {
                MenuItems.style.maxHeight = "0px";
            }
        }

        function renderProducts(newProducts) {
            const prodsSection = document.getElementById("products");
            const template = document.getElementById("template");

            for (let i = 0; i < Math.min(newProducts.length, 10); i++) {
                const product = newProducts[i];

                let html = template.innerHTML
                    .replace("{{prod-image}}", product.imagePath)
                    .replace("{{prod-name}}", product.name)
                    .replace("{{prod-price}}", product.price);

                const productElement = document.createElement("div");
                productElement.classList.add("item");
                productElement.innerHTML = html;

                // Adicione o manipulador de eventos de clique ao elemento do produto
                productElement.addEventListener("click", function () {
                    redirectToProductPage(product.code); // Redirecionar para a página do produto com o ID do produto
                });

                prodsSection.appendChild(productElement);
            }
        }

        async function loadProducts() {

            try {
                let response = await fetch("./php/produtos.php?codCategoria=");
                if (!response.ok) throw new Error(response.statusText);
                var products = await response.json();
            }
            catch (e) {
                console.error(e);
                return;
            }

            renderProducts(products);
        }

        window.onload = function () {
            loadProducts();
        };

        function redirectToProductPage(productId) {
            // Redirecionar para a página produto.php com o ID do produto
            window.location.href = `./php/produto.php?id=${productId}`;
        }
    </script>
</body>

</html>